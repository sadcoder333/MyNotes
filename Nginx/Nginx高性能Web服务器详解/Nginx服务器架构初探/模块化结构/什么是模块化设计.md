# 什么是模块化设计

到底什么是“模块化设计”呢？还是那句老话，“没有统一的定义”。在20世纪50年代，欧美一些国家正式提出“模块化设计”的概念，把模块化设计提到理论高度来研究。目前，模块化设计的思想已渗透到许多领域。在计算机领域，针对程序设计，常见的说法是把“模块化设计”定义为“以功能块为单位进行程序设计，实现其求解算法的方法”。从这个一般提法中，我们能够看到几层意思。

- 第一，“功能块”是对模块的描述，一个模块就是一个功能块，应该只负责一个功能，在设计模式理论中类似于经常提到的“单一职责原则”。
- 第二，如果要体现模块化，就免不了将程序进行分解，这也是模块化编程的另一个原则——自顶向下，逐步求精原则。
- 第三，一个程序被分解为多个模块，那么它们之间一定要存在一定的依赖关系，但是这个依赖不能太强，否则也就不能称之为“模块化”了。于是，又涉及到模块化编程的一条原则：高内聚、低耦合原则。事实上，在设计模式理论中，也有对应的一条设计原则叫“迪米特原则”。

这个提法把“模块化编程”定义为程序设计的一种方法，这种方法的结果是用一系列以功能块为单位的算法来描述和实现程序。相对于这个一般提法，笔者更认为“模块化”是一种思想，它将人们在日常生活中处理事情的习惯性思维应用到了程序设计当中，这是程序设计历史上一次里程碑式的思想飞跃。接触过面向对象理论的读者对此应该深有体会，也更能够理解模块化编程的意义所在。

模块化设计支持分布式开发。模块化的思想导致大量功能独立的模块出现，这些模块可以分布在世界上的任何角落。无论是开发中小型的应用程序，还是构建大型的诸如操作系统之类的程序，都可以采用分布式开发模型，集合任何可用模块为己所用。

模块化设计支持团队协同合作。在采用模块化思想进行程序设计时，最终的产品由小的、分散的功能块组成，每一块都是基本独立的。这些功能块可以由不同的团队根据他们自己的时间表和生命周期进行开发，互不影响。最终的产品则可以由另一个独立的个体——发行者进行集成。

模块化设计支持应用扩展和升级。应用模块化思想设计出来的程序，就如同用积木搭起来的房子。各个模块之间既能保持自己的独立性，也能通过接口保持联系。在对应用扩展时，只要实现规范的接口，就可以不断加入新功能；在对其中某些模块进行升级时，只要保持原有接口不变，就能够在不影响其他模块的前提下进行。

本小节主要对“模块化设计”思想的定义、应该遵循的一些原则以及它的应用意义做了简单阐述。Nginx服务器的开发完全遵循模块化设计思想。在本书的后续内容中，相信读者能够深刻感受到这一思想给Nginx带来的巨大优越性，尤其是在应用扩展和升级方面，体现得更加淋漓尽致。